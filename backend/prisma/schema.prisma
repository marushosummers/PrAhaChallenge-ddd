datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

generator client {
  previewFeatures = ["nativeTypes"]
  provider        = "prisma-client-js"
}

model Team {
  id        Int    @id @default(autoincrement())
  name      String
  pairs     Pair[]
}

model Pair {
  id        Int    @id @default(autoincrement())
  name      String
  team      Team   @relation(fields: [teamId], references: [id])
  teamId    Int
  members   Member[]
}

model ActivityStatus {
  id        Int    @id @default(autoincrement())
  name      String
  members    Member[]
}

model Member {
  id        Int    @id @default(autoincrement())
  name      String
  email     String
  pair      Pair   @relation(fields: [pairId], references: [id])
  pairId    Int
  activityStatus      ActivityStatus @relation(fields: [activityStatusId], references: [id])
  activityStatusId    Int
  memberTasks MemberTask[]
}

model Task {
  id        Int    @id @default(autoincrement())
  content      String
  memberTasks MemberTask[]
}

model ProgressStatus {
  id        Int    @id @default(autoincrement())
  name      String
  memberTasks MemberTask[]
}

model MemberTask {
  id        Int    @id @default(autoincrement())
  member      Member   @relation(fields: [memberId], references: [id])
  memberId    Int
  task      Task   @relation(fields: [taskId], references: [id])
  taskId    Int
  progressStatus ProgressStatus @relation(fields: [progressStatusId], references: [id])
  progressStatusId Int
}
